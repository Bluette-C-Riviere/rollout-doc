*Fields denoted by an asterisk are optional configuration values.*

### Queue packages

One of the following three packages can be used for the queue.

* `fiskaltrust.Middleware.Queue.EF` - when using an Entity Framework backed database
* `fiskaltrust.Middleware.Queue.MySQL` - when using a MySQL database
* `fiskaltrust.Middleware.Queue.SQLite` - when using the embedded SQLite database

Each queue package requires the following configuration object.

```json
{
	"init_ftQueue": {},
	"init_ftQueueDE": {},
	"init_ftSignaturCreationUnitDE": {},
	"connectionstring": ""
}
```

#### init_ftQueue

This object contains general initialisation values for this queue.

```json
"init_ftQueue": {
	"ftQueueId": "|[queueX_id]|",
	"ftCashBoxId": "|[cashbox_id]|",
	"CountryCode": "DE",
	"Timeout": 10000
}
```

* `ftQueueId` - Reference to the ID of the queue. Needs to be the same value as in `Id` of the embedding package object. [`|[queue{0-9}_id]|`](#pre-defined-system-variables) can be used here.
* `ftCashBoxId` - Reference to the ID of the CashBox. Needs to be the same value as in `ftCashBoxId` of the overall CashBox object. [`|[cashbox_id]|`](#pre-defined-system-variables) can be 
* `CountryCode` - [ISO 3166-2](https://en.wikipedia.org/wiki/ISO_3166-2) country code. For Germany, this should be `DE`.
* `Timeout` * - Optional timeout value in milliseconds.


#### init_ftQueueDE

This object contains Germany-specific initialisation values for this queue.

```json
"init_ftQueueDE": {
	"ftQueueDEId": "|[queueX_id]|",
	"CashBoxIdentification": "|[queueX_id_base64withoutspecialchars]|",
	"ftSignaturCreationUnitDEId": "|[scuX_id]|"
}
```

* `ftQueueDEId` - Reference to the ID of the queue. Needs to be the same value as in `Id` of the embedding package object. [`|[queue{0-9}_id]|`](#pre-defined-system-variables) can be used here.
* `CashBoxIdentification` - [`|[queue{0-9}_id_base64withoutspecialchars]|`](#pre-defined-system-variables) can be used here.
* `ftSignaturCreationUnitDEId` - Reference to the ID of the SCU to be used for this queue. [`|[scu{0-9}_id]|`](#pre-defined-system-variables) can be used here.


#### init_ftSignaturCreationUnitDE

This object contains the connection details for the associated SCU.

```json
"init_ftSignaturCreationUnitDE": {
	"ftSignaturCreationUnitDEId": "|[scuX_id]|",
	"Url": ["http://localhost/PATH-HERE"]
}
```

* `ftSignaturCreationUnitDEId` - Reference to the ID of the SCU to be used for this queue. [`|[scu{0-9}_id]|`](#pre-defined-system-variables) can be used here.
* `Url` - An array of strings specifying the SCU URLs the queue will be using to connect to the SCU.

#### connectionstring

This string is only required for the `.EF` and `.MySQL` packages. It specifies the database connection details.

Two examples are

```
# fiskaltrust.Middleware.Queue.EF
Data Source=.\\SQL-INSTANCE;Initial Catalog=CATALOG;User ID=USERNAME;Password=PASSWORD;MultipleActiveResultSets=True

# fiskaltrust.Middleware.Queue.MySQL
Server=SERVERNAME;Port=3306;Database=DATABASE;Uid=USERNAME;Pwd=PASSWORD;
```

-----

### SCU packages

#### Package "fiskaltrust.Middleware.SCU.DE.CryptoVision"

SCU package for a CryptoVision hardware TSE

<details>
<summary>Configuration</summary>

```json
{
	"devicePath": "E:",
	"adminPin": "1234",
	"timeAdminPin": "1234"
}
```

* `devicePath` - Mount point (drive letter or path) under which the TSE can be reached.
* `adminPin` * - Administrative PIN. Only required if the TSE has been already initialised by a third party system.
* `timeAdminPin` * - Administrative time PIN. Only required if the TSE has been already initialised by a third party system.

</details>


#### Package "fiskaltrust.Middleware.SCU.DE.DeutscheFiskal"

SCU package for a Swissbit hardware TSE

<details>
<summary>Configuration</summary>

```json
{
	"devicePath": "E:",
	"adminPin": "1234",
	"timeAdminPin": "1234"
}
```

* `devicePath` - Mount point (drive letter or path) under which the TSE can be reached.
* `adminPin` * - Administrative PIN. Only required if the TSE has been already initialised by a third party system.
* `timeAdminPin` * - Administrative time PIN. Only required if the TSE has been already initialised by a third party system.

</details>


#### Package "fiskaltrust.Middleware.SCU.DE.DieboldNixdorf"

SCU package for a Diebold Nixdorf hardware TSE

<details>
<summary>Configuration</summary>

```json
{
	"comPort": "",
	"url": "",
	"slotNumber": 0,
	"adminUser": "",
	"adminPin": "",
	"timeAdminUser": "",
	"timeAdminPin": ""

}
```

* `comPort` - **For the USB version**, specifies the COM port to which the device is attached.
* `url` - **For the Connect Box version**, specifies the connection URL under which the device can be reached.
* `slotNumber` - **For the Connect Box version**, specifies the slot number under which the device can be reached.
* `adminUser` * - Administrative PIN. Only required if the TSE has been already initialised by a third party system.
* `adminPin` * - Administrative PIN. Only required if the TSE has been already initialised by a third party system.
* `timeAdminUser` * - Administrative time username. Only required if the TSE has been already initialised by a third party system.
* `timeAdminPin` * - Administrative time PIN. Only required if the TSE has been already initialised by a third party system.

</details>


#### Package "fiskaltrust.Middleware.SCU.DE.Epson"

SCU package for an Epson hardware TSE

<details>
<summary>Configuration</summary>

```json
{
	"host": "",
	"port": "8009",
	"deviceId": "local_TSE",
	"timeout": 60000
}
```

* `host` - Hostname where the service is running.
* `port` * - Port number where the service is running.
* `deviceId` * - Device ID, in case of an Epson server.
* `timeout` * - Timeout in milliseconds.

</details>


#### Package "fiskaltrust.Middleware.SCU.DE.FiskalyCertified"

SCU package for a fiskaly cloud TSE

<details>
<summary>Configuration</summary>

```json
{
	"ApiKey": "",
	"ApiSecret": "",
	"TssId": ""
}
```

* `ApiKey` - The fiskaly API key.
* `ApiSecret` - The fiskaly API secret.
* `TssId` - The fiskaly TSS ID.

</details>


#### Package "fiskaltrust.Middleware.SCU.DE.Swissbit"

SCU package for a Swissbit hardware TSE

<details>
<summary>Configuration</summary>

```json
{
	"devicePath": "E:",
	"adminPin": "1234",
	"timeAdminPin": "1234",
	"EnableFirmwareUpdate": false
}
```

* `devicePath` - Mount point (drive letter or path) under which the TSE can be reached.
* `adminPin` * - Administrative PIN. Only required if the TSE has been already initialised by a third party system.
* `timeAdminPin` * - Administrative time PIN. Only required if the TSE has been already initialised by a third party system.
* `EnableFirmwareUpdate` * - Boolean indicator whether the device should be updated whenever there's a new firmware version.

</details>


#### Package "fiskaltrust.Middleware.SCU.DE.SwissbitCloud"

SCU package for a Swissbit cloud TSE

<details>
<summary>Configuration</summary>

```json
{
	"FccId": "",
	"FccSecret": "",
	"ErsCode": ""
}
```

* `FccId` - The FCC ID.
* `FccSecret` - The FCC secret.
* `ErsCode` - The ERS code.

</details>

-----

### Helper packages

#### Package "fiskaltrust.Middleware.Helper.Helipad"

Helper package for the portal communication plugin.

This package does not require any special configuration settings.